\startmode[presentation]
  \setuppapersize[SW][SW]
  \setuplayout[
    width=fit,
    height=fit,
    header=0pt,
    footer=14pt,
    footerdistance=3pt,
    bottomspace=1pt
  ]
  \setupcolors[state=start]
  \setuppagenumber[state=stop]

  \definecolor[offblack][r=.133, g=.133, b=.133]
  \setupbackgrounds[page][background=color, backgroundcolor=offblack]
  \startcolor[white]
  
  \usemodule[simplefonts]
  \setmainfont[Source Sans Pro]

  \define[1]\SlideTitle{
    \midaligned{ \tfb #1 }
    \blank[line]
  }
  \setupfooter[color=white]

  % Slide macros
  \def\startSlide{\directsetup{slide:start}}
  \def\stopSlide{\directsetup{slide:stop}}

  \startsetups slide:start
    \start
    \switchtobodyfont[24pt]
    \dontleavehmode \vfill
  \stopsetups

  \startsetups slide:stop
    \vfill
    \page
    \stop
  \stopsetups
  \setupfootertexts[@AllanEspinosa]
\stopmode

\startmode[manuscript]

  \setupframedtexts[location=middle, before={\blank[line]},
                    after={\blank[line]}]
  \let\startSlide\startframedtext
  \let\stopSlide\stopframedtext

  \define[1]\SlideTitle{\midaligned{#1}\blank[small]}
\stopmode

\starttext

\startSlide
\setupfooter[state=stop]

\SlideTitle{Autoscaling Containers\ldots with Math}

\midaligned{ @AllanEspinosa }

\stopSlide

\startSlide

\SlideTitle{Your Distributed System}

\stopSlide

\startmode[manuscript]
Receive load, 

monitoring system receives performance metrics. Depending on the thresholds you
set in Nagios, you get paged. 

You wake up at 2am. SSH to instances (*gasp!*) or update your Chef environment
attributes. Converge chef. Check if alerts clear.

Then finally go to sleep.
\stopmode

\startSlide
\SlideTitle{Your Thermostat}

\stopSlide

\startmode[manuscript]
Notice how everything look the same. Except for an Ops person being woken up to
adjust the thermostat.

You may have to wake up if you didn't set the thermostat properly. But that's a
different problem for now.
\stopmode


\stopSlide

\startSlide

Hello world

$$ 
u(t) = \int^a_b e(t) dt
$$
\stopSlide

\stoptext
