\startmode[presentation]
  \setuppapersize[SW][SW]
  \setuplayout[
    width=fit,
    height=fit,
    header=0pt,
    footer=14pt,
    footerdistance=3pt,
    bottomspace=1pt
  ]
  \setupcolors[state=start]
  \setuppagenumber[state=stop]

  \setupbackgrounds[page][background=color, backgroundcolor=white]
  
  \usemodule[simplefonts]
  \setmainfont[Source Sans Pro]

  \define[1]\SlideTitle{
    \midaligned{ \tfb #1 }
    \blank[line]
  }

  % Slide macros
  \def\startSlide{\directsetup{slide:start}}
  \def\stopSlide{\directsetup{slide:stop}}

  \startsetups slide:start
    \start
    \switchtobodyfont[24pt]
    \dontleavehmode
  \stopsetups

  \startsetups slide:stop
    \page
    \stop
  \stopsetups

  \setupfootertexts[][@AllanEspinosa]
\stopmode

\startmode[manuscript]

  \setupframedtexts[location=middle, before={\blank[line]},
                    after={\blank[line]}]
  \let\startSlide\startframedtext
  \let\stopSlide\stopframedtext

  \define[1]\SlideTitle{\midaligned{#1}\blank[small]}
\stopmode

\starttext

\startSlide
\setupfooter[state=stop]

\vfill
\SlideTitle{Autoscaling Containers\ldots with Math}

\midaligned{ @AllanEspinosa }
\vfill

\stopSlide

\startSlide

\externalfigure[https://images-na.ssl-images-amazon.com/images/I/51xkdqGcykL.jpg][width=0.4\textwidth]

\stopSlide

\startSlide

\externalfigure[https://www.engineyard.com/images/company/presskit/EY_Logotype_red.png][width=0.4\textwidth]

\externalfigure[logo.svg][width=0.4\textwidth]

\stopSlide

\startSlide

\SlideTitle{Your Distributed System}

\stopSlide

\startmode[manuscript]
Receive load, 

monitoring system receives performance metrics. Depending on the thresholds you
set in Nagios, you get paged. 

You wake up at 2am. SSH to instances (*gasp!*) or update your Chef environment
attributes. Converge chef. Check if alerts clear.

Then finally go to sleep.
\stopmode

\startSlide
\SlideTitle{Your Thermostat}

\stopSlide

\startmode[manuscript]
Notice how everything look the same. Except for an Ops person being woken up to
adjust the thermostat.

You may have to wake up if you didn't set the thermostat properly. But that's a
different problem for now.
\stopmode

\startSlide

\SlideTitle{Support questions}

How many unicorn workers should I have?

Why is monit killing my sidekiq workers?

\stopSlide

\startmode[manuscript]

Applies to any parameter you set in your system. From nginx workers, maxClients,
etc.

I get these questions every so often
\stopmode

\startSlide
\midaligned{
\externalfigure[http://akamaicovers.oreilly.com/images/9780596518585/lrg.jpg][width=0.4\textwidth]
}

\stopSlide

\startmode[manuscript]
I want to slap them with this book!
\stopmode

\startSlide

\SlideTitle{Feedback}

Input

Output

Target Output

\startMPcode

fill fullcircle scaled 200pt withcolor red; 

\stopMPcode

\stopSlide

\startSlide

\SlideTitle{Autoscaling}

Horizontal Pod Autoscaler

System output : current CPU utilization

System input: number of instances in the replication controller

Target output : desired CPU utilization

\stopSlide

\startSlide

Non-linearity

\stopSlide

\startSlide

\SlideTitle{References}

\dontleavehmode
\externalfigure[https://images-na.ssl-images-amazon.com/images/I/41iAmXZ8zbL.jpg][width=0.3\textwidth]
\hfill
\dontleavehmode
\externalfigure[https://images-na.ssl-images-amazon.com/images/I/41Lg4IZz+nL.jpg][width=0.3\textwidth]

\stopSlide



\stoptext
